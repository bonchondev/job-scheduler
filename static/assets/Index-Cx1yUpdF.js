import{S as le,d as se,e as oe,h as u,q as b,r as A,j as q,k as a,l as S,m as o,u as M,v as E,w as F,b as G,t as K,p as x,x as N,y as ae,n as ne,o as re}from"../main.js";import{k as ie}from"./index-BoqvxspT.js";import O from"./Button-Si4vY0qq.js";import"./Spinner-Dp1DM3SD.js";function te(l){let e,t;return{c(){e=u("p"),t=q(l[1]),a(e,"class","text-red-500 font-bold pt-5")},m(s,r){S(s,e,r),o(e,t)},p(s,r){r&2&&ne(t,s[1])},d(s){s&&x(e)}}}function ue(l){let e;return{c(){e=q("Submit")},m(t,s){S(t,e,s)},d(t){t&&x(e)}}}function fe(l){let e;return{c(){e=q("Year to Date")},m(t,s){S(t,e,s)},d(t){t&&x(e)}}}function pe(l){let e;return{c(){e=q("Last Month")},m(t,s){S(t,e,s)},d(t){t&&x(e)}}}function ce(l){let e,t;return{c(){e=u("span"),t=q(l[2]),a(e,"class","font-bold")},m(s,r){S(s,e,r),o(e,t)},p(s,r){r&4&&ne(t,s[2])},d(s){s&&x(e)}}}function de(l){let e;return{c(){e=u("span"),e.textContent="Loading...",a(e,"class","font-semibold")},m(t,s){S(t,e,s)},p:re,d(t){t&&x(e)}}}function me(l){let e,t,s,r,$,k,w,_,p,j,P,g,R,c,B,d,Q,h,z,U,C,V,D,W,L,y,X,v,H,Z,f=l[1]&&te(l);d=new O({props:{size:"py-2 px-6",loading:l[0],$$slots:{default:[ue]},$$scope:{ctx:l}}}),C=new O({props:{loading:l[0],id:"ytd",size:"w-32 h-14",$$slots:{default:[fe]},$$scope:{ctx:l}}}),C.$on("click",l[9]),D=new O({props:{loading:l[0],id:"last-month",size:"w-32 h-14",$$slots:{default:[pe]},$$scope:{ctx:l}}}),D.$on("click",l[10]);function ee(n,i){return n[0]?de:ce}let J=ee(l),m=J(l);return{c(){e=u("main"),t=u("nav"),t.textContent="Job Submission",s=b(),r=u("section"),$=u("p"),$.innerHTML=`Choose one of the three <span class="font-bold">(3)</span> options to
            submit a job`,k=b(),f&&f.c(),w=b(),_=u("section"),p=u("form"),j=u("label"),j.textContent="Date Range:",P=b(),g=u("input"),R=b(),c=u("input"),B=b(),A(d.$$.fragment),Q=b(),h=u("section"),z=u("label"),z.textContent="Prefilled Dates:",U=b(),A(C.$$.fragment),V=b(),A(D.$$.fragment),W=b(),L=u("section"),y=u("div"),X=q(`Submitted:
            `),m.c(),a(t,"class","font-bold text-6xl pb-5 pl-1 text-blue-700"),a(r,"id","user-info"),a(r,"class","px-1 pb-6 text-base"),a(j,"for","start-date"),a(j,"class","pt-3 pl-1 pr-7 font-bold"),a(g,"type","date"),a(g,"id","start-date"),a(g,"class","w-50 px-3 py-3 text-lg font-bold text-white placeholder-blue-100 bg-gradient-to-r from-blue-500 to-purple-600 border-2 border-white rounded-lg focus:ring-0 focus:ring-white"),a(c,"id","start-date"),a(c,"type","date"),a(c,"class","w-50 px-3 py-3 font-bold text-lg text-white placeholder-blue-100 bg-gradient-to-r from-blue-500 to-purple-600 border-2 border-white rounded-lg focus:ring-0 focus:ring-white"),a(p,"class","flex flex-row gap-x-4"),a(_,"id","date-range"),a(z,"for","last-month"),a(z,"class","pt-5 pl-1 font-bold"),a(h,"class","flex flex-row gap-x-5 py-5"),a(h,"id","preformatted-options"),a(y,"class","bg-slate-300 h-40 p-3"),a(L,"id","commands-run"),a(L,"class","pt-3"),a(e,"class","py-10 px-5")},m(n,i){S(n,e,i),o(e,t),o(e,s),o(e,r),o(r,$),o(r,k),f&&f.m(r,null),o(e,w),o(e,_),o(_,p),o(p,j),o(p,P),o(p,g),M(g,l[3]),o(p,R),o(p,c),M(c,l[4]),o(p,B),E(d,p,null),o(e,Q),o(e,h),o(h,z),o(h,U),E(C,h,null),o(h,V),E(D,h,null),o(e,W),o(e,L),o(L,y),o(y,X),m.m(y,null),v=!0,H||(Z=[F(g,"input",l[6]),F(c,"input",l[7]),F(p,"submit",l[8])],H=!0)},p(n,[i]){n[1]?f?f.p(n,i):(f=te(n),f.c(),f.m(r,null)):f&&(f.d(1),f=null),i&8&&M(g,n[3]),i&16&&M(c,n[4]);const I={};i&1&&(I.loading=n[0]),i&2048&&(I.$$scope={dirty:i,ctx:n}),d.$set(I);const T={};i&1&&(T.loading=n[0]),i&2048&&(T.$$scope={dirty:i,ctx:n}),C.$set(T);const Y={};i&1&&(Y.loading=n[0]),i&2048&&(Y.$$scope={dirty:i,ctx:n}),D.$set(Y),J===(J=ee(n))&&m?m.p(n,i):(m.d(1),m=J(n),m&&(m.c(),m.m(y,null)))},i(n){v||(G(d.$$.fragment,n),G(C.$$.fragment,n),G(D.$$.fragment,n),v=!0)},o(n){K(d.$$.fragment,n),K(C.$$.fragment,n),K(D.$$.fragment,n),v=!1},d(n){n&&x(e),f&&f.d(),N(d),N(C),N(D),m.d(),H=!1,ae(Z)}}}function be(l,e,t){let s=!1,r,$="",k=null,w=null;const _=async c=>{if(t(1,r=null),!k&&!w&&c==="date-range"){t(1,r="Please provide start date and/or end date before submitting");return}ie.post("/jobs",{timeout:3e4,json:{kind:c,startDate:k,endDate:w},hooks:{beforeRequest:[d=>{t(2,$=""),t(0,s=!0)}]}}).json().then(d=>{t(0,s=!1),t(2,$=d.command)}).catch(d=>{t(0,s=!1),t(2,$=d.message)})};function p(){k=this.value,t(3,k)}function j(){w=this.value,t(4,w)}return[s,r,$,k,w,_,p,j,c=>{c.preventDefault(),_("date-range")},()=>_("ytd"),()=>_("last-month")]}class ke extends le{constructor(e){super(),se(this,e,be,me,oe,{})}}export{ke as default};
